(this.webpackJsonpmissing_mahjong=this.webpackJsonpmissing_mahjong||[]).push([[0],{13:function(n,e,t){},14:function(n,e,t){},15:function(n,e,t){"use strict";t.r(e);var i=t(0),r=t(1),s=t.n(r),u=t(5),o=t.n(u),c=(t(13),t(2)),h=t(3),a=t(7),l=t(6),j=(t(14),t.p+"static/media/logo.6ce24c58.svg"),d=Object(i.jsx)("h3",{children:" \u9078\u64c7\u4f60\u7684\u624b\u724c "}),p=Object(i.jsx)("img",{src:j,className:"App-logo",alt:"logo"}),g=Object(i.jsx)("a",{className:"App-link",href:"https://github.com/chifai/missing_mahjong",target:"_blank",rel:"noopener noreferrer",children:"click here for github repository"}),f=function(){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;Object(c.a)(this,n),this.grouped=e.slice(),this.ungrouped=t.slice(),this.pairNum=i}return Object(h.a)(n,[{key:"isDone",value:function(){return 0===this.ungrouped.length}},{key:"getGrouped",value:function(){return this.grouped.slice()}},{key:"groupPair",value:function(){if(1===this.pairNum)return-1;var n=this.ungrouped[0];return n===this.ungrouped[1]?(this.grouped.push([n,n]),this.ungrouped.splice(0,2),this.pairNum=1,1):0}},{key:"groupThreeAKind",value:function(){var n=this.ungrouped[0];return n===this.ungrouped[1]&&n===this.ungrouped[2]&&(this.grouped.push([n,n,n]),this.ungrouped.splice(0,3),!0)}},{key:"groupContThree",value:function(){var n=this.ungrouped[0];if(0===n)return!1;var e=this.ungrouped.findIndex((function(e){return e===n+1})),t=this.ungrouped.findIndex((function(e){return e===n+2}));return-1!==e&&-1!==t&&(this.ungrouped.shift(),this.ungrouped.splice(e-1,1),this.ungrouped.splice(t-2,1),this.grouped.push([n,n+1,n+2]),!0)}},{key:"copy",value:function(n){n.ungrouped=this.ungrouped.slice(),n.grouped=this.grouped.slice(),n.pairNum=this.pairNum}}]),n}(),M=function(){function n(){Object(c.a)(this,n),this.MjInHandNum=Array(9).fill(0),this.MjInHand=[],this.TotalMjNum=0}return Object(h.a)(n,[{key:"calMissingMahjong",value:function(){return this.MjInHand.length%3===1?[{numToDitch:-1,MjGroup:this.tryMissingMj(this.MjInHand,0).slice()}]:this.MjInHand.length%3===2?this.tryDitchMj(this.MjInHand,0):[]}},{key:"tryDitchMj",value:function(n,e){if(null!==this.formMjGroups(n,e))return[{numToDitch:0,MjGroup:[]}];for(var t=1,i=[],r=0,s=[],u=0,o=0;o<n.length;o++)if(u!==n[o]){var c=n.slice();c.splice(o,1);var h=this.tryMissingMj(c,e);h.length>t?(t=(i=h.slice()).length,r=n[o],(s=[]).push({numToDitch:r,MjGroup:i}),u=r):h.length===t&&(t=(i=h.slice()).length,r=n[o],s.push({numToDitch:r,MjGroup:i}),u=r)}return s}},{key:"tryMissingMj",value:function(n,e){var t=[];for(var i=0;i<10;i++)if(!(i>0&&4===this.MjInHandNum[i-1])){var r=n.slice();r.push(i),r.sort();var s=this.formMjGroups(r,0);if(null!==s){var u={num:i,group:s};t.push(u)}}return t}},{key:"formMjGroups",value:function(n,e){var t=[],i=null;for(t.push(new f([],n,e));t.length>0;){var r=t.pop(),s=void 0;if(!0===r.isDone()){i=r.getGrouped();break}s=new f,r.copy(s),1===s.groupPair()&&t.push(s),s=new f,r.copy(s),!0===s.groupContThree()&&t.push(s),s=new f,r.copy(s),!0===s.groupThreeAKind()&&t.push(s)}return i}},{key:"changeMjNum",value:function(n,e){if(0===n){if(this.bNeedAPair=!e,!0===e){if(0===this.MjInHand[0])return!1;this.MjInHand.push(0),this.MjInHand.push(0),this.TotalMjNum+=2}else 0===this.MjInHand[0]&&(this.MjInHand.splice(0,2),this.TotalMjNum-=2);return this.MjInHand.sort(),!0}var t=n-1;if(t<0||t>=9)return!1;if(!0===e){if(16===this.TotalMjNum)return!1;if(4===this.MjInHandNum[t])return!1;this.MjInHandNum[t]++,this.MjInHand.push(n),this.TotalMjNum++}else{if(0===this.MjInHandNum[t])return!1;this.MjInHandNum[t]--;var i=this.MjInHand.findIndex((function(e){return e===n}));this.MjInHand.splice(i,1),this.TotalMjNum--}return this.MjInHand.sort(),!0}}]),n}(),b=function(n){Object(a.a)(t,n);var e=Object(l.a)(t);function t(n){var i;return Object(c.a)(this,t),(i=e.call(this,n)).objMissingMjCal=new M,i.ans=[],i}return Object(h.a)(t,[{key:"clickToAdd",value:function(n){if(!0===this.objMissingMjCal.changeMjNum(n,!0)){var e=this.objMissingMjCal.calMissingMahjong();this.ans=e.slice(),this.forceUpdate()}}},{key:"clickToDelete",value:function(n){if(!0===this.objMissingMjCal.changeMjNum(n,!1)){var e=this.objMissingMjCal.calMissingMahjong();this.ans=e.slice(),this.forceUpdate()}}},{key:"renderMjButton",value:function(n,e){var t=this;return!0===e?0===n?Object(i.jsx)("button",{className:"button",onClick:function(){return t.clickToAdd(n)},children:"\u767c"}):Object(i.jsx)("button",{className:"button",onClick:function(){return t.clickToAdd(n)},children:n}):0===n?Object(i.jsx)("button",{className:"button",onClick:function(){return t.clickToDelete(n)},children:"\u767c"}):Object(i.jsx)("button",{className:"button",onClick:function(){return t.clickToDelete(n)},children:n})}},{key:"renderEachGroup",value:function(n,e){return n.forEach((function(n){var t=[],r=!1;n.group.forEach((function(e){e.forEach((function(e){e===n.num&&!1===r?(0===e?t.push(Object(i.jsx)("button",{className:"button_red",children:"\u767c"})):t.push(Object(i.jsx)("button",{className:"button_red",children:e})),r=!0):0===e?t.push(Object(i.jsx)("button",{className:"button",children:"\u767c"})):t.push(Object(i.jsx)("button",{className:"button",children:e}))})),t.push(Object(i.jsx)("rect",{className:"rect",children:" "}))})),e.push(Object(i.jsx)("div",{children:t})),e.push(Object(i.jsx)("br",{}))})),e}},{key:"renderAnswer",value:function(){var n=this,e=[];return this.ans.forEach((function(t){0===t.numToDitch?e.push(Object(i.jsx)("h3",{children:"\u5df2\u7cca\u724c"})):-1===t.numToDitch?0===t.MjGroup.length?e.push(Object(i.jsx)("h3",{children:"\u7121\u6cd5\u807d\u724c"})):(e.push(Object(i.jsx)("h3",{children:"\u4f60\u7684\u807d\u724c\u7d44\u5408"})),n.renderEachGroup(t.MjGroup,e)):(e.push(Object(i.jsxs)("h3",{children:["\u6253\u6389",t.numToDitch,"\u865f\u724c\uff0c\u807d\u4ee5\u4e0b\u7d44\u5408"]})),n.renderEachGroup(t.MjGroup,e))})),e}},{key:"render",value:function(){var n=this,e=[],t=[],r=this.renderAnswer();e.push(this.renderMjButton(0,!0));for(var s=0;s<9;s++)e.push(this.renderMjButton(s+1,!0));return this.objMissingMjCal.MjInHand.forEach((function(e){t.push(n.renderMjButton(e,!1))})),Object(i.jsxs)("div",{className:"App",children:[Object(i.jsxs)("header",{className:"App-header",children:[p,d]}),Object(i.jsxs)("body",{className:"App-body",children:[Object(i.jsx)("div",{children:e}),Object(i.jsx)("h3",{children:"\u4f60\u7684\u624b\u724c"}),Object(i.jsx)("div",{children:t}),r]}),Object(i.jsx)("footer",{className:"App-footer",children:g})]})}}]),t}(s.a.Component),m=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,16)).then((function(e){var t=e.getCLS,i=e.getFID,r=e.getFCP,s=e.getLCP,u=e.getTTFB;t(n),i(n),r(n),s(n),u(n)}))};o.a.render(Object(i.jsx)(s.a.StrictMode,{children:Object(i.jsx)(b,{})}),document.getElementById("root")),m()}},[[15,1,2]]]);
//# sourceMappingURL=main.3b3df513.chunk.js.map